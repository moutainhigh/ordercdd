"use strict";app.controller("auditEntityModuleController",["$rootScope","$scope","$state","$stateParams",function(a,b,c,d){console.log("auditEntityModuleController")}]);app.controller("auditEntityListController",["$rootScope","$scope","$http","$stateParams","entity",function(a,c,e,d,b){if(d.entity_key==="orderwdsjsh"){c.entity_key=d.entity_key+"e"}else{c.entity_key=d.entity_key}c.states=[];b.getList("/rest/"+d.entity_key+"States?sort=sort").then(function(f){angular.forEach(f._embeddedItems,function(h,g){if(h.stateCode!=="DELETED"){c.states.push(h)}});c.state_code=c.states[0].stateCode;c.getList(0)});c.pageList={size:0,total_elements:0,current_page:0,num_page:1,total_page:1};c.list=[];c.getList=function(g){c.loading=true;c.list=[];var f="/rest/"+c.entity_key+"s/search/listStateOwnDepartmentAndChildren?sort=id,desc&stateCode="+c.state_code+"&size=20&page="+g;b.getList(f,["state"]).then(function(h){c.loading=false;c.list=h._embeddedItems;if(c.list.length>0){c.pageList={size:h.page.size,total_elements:h.page.totalElements,current_page:h.page.number,num_page:h.page.totalPages,total_page:h.page.totalPages}}else{c.pageList={size:0,total_elements:0,current_page:0,num_page:1,total_page:1}}a.setPaginator("#"+d.entity_key+"_list_paginator",c.pageList,c.getList)})};c.stateSelect=function(f,g){if(f.target.nodeName==="INPUT"){c.state_code=g;c.getList(0)}}}]);app.controller("auditEntityHomeController",["$rootScope","$scope","$http","$state","$stateParams","entity",function(a,c,e,d,b){if(d.entity_key==="orderwdsjsh"){c.entity_key="orderwdsjshe"}else{c.entity_key=d.entity_key}c.id=d.id;c.profile={};c.canActs=[];c.canFileActs=[];b.getDetail("/rest/"+c.entity_key+"s/"+c.id,["createdBy","state"]).then(function(f){c.profile=f;angular.forEach(c.profile.currentUserCanActList,function(h,g){if(h.actGroup==="UPDATE"||h.actGroup==="OPERATE"||h.actGroup==="FILE_PACKAGE"){c.canActs.push(h)}else{if(h.actGroup==="FILE_OPERATE"){c.canFileActs.push(h)}}});c.state_code=c.profile.state.stateCode;c.stateActList=c.profile.stateActList[c.state_code]});c.excute=function(f){if(f==="update"){$state.go("auditEntity.home.profile.update",{},{reload:true})}};console.log("auditEntityHomeController")}]);app.controller("auditEntityProfileController",["$rootScope","$scope","$http","$stateParams","$state",function(a,b,e,d,c){console.log("auditEntityProfileController")}]);app.controller("auditEntityInfoController",["$rootScope","$scope","$http","$stateParams","$state",function(a,b,e,d,c){console.log("auditEntityInfoController")}]);app.controller("auditEntityLogController",["$rootScope","$scope","$http","$stateParams","$state","entity",function(a,c,f,e,d,b){if(e.entity_key==="orderwdsjsh"){c.entity_key=e.entity_key+"e"}else{c.entity_key=e.entity_key}c.id=e.id;c.logs=[];b.getList("/rest/"+c.entity_key+"s/"+c.id+"/logs").then(function(g){c.logs=g._embeddedItems;angular.forEach(c.logs,function(i,h){b.getDetail(i._links.createdBy.href).then(function(j){i.createdBy=j.nickname;i.avatar=j.headimgurl})});c.logs.sort(function(i,h){return new Date(h.lastModifiedAt)-new Date(i.lastModifiedAt)})});c.jumpToLog=function(g){c.log=g;$("#log_modal").modal("show")}}]);